{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction ProfileComponent_h1_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵelement(1, \"img\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"nav\");\n    i0.ɵɵelementStart(4, \"a\", 28);\n    i0.ɵɵtext(5, \"Home\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\u00A0\\u00A0|\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(7, \"a\", 29);\n    i0.ɵɵtext(8, \"Lab Booking\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\u00A0\\u00A0|\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(10, \"a\", 30);\n    i0.ɵɵtext(11, \"Booking Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\u00A0\\u00A0|\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(13, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_h1_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onClick();\n    });\n    i0.ɵɵtext(14, \"Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const details_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\\u00A0\\u00A0\\u00A0 \", details_r3.stu_name, \" \", details_r3.stud_surname, \" \");\n  }\n}\n\nfunction ProfileComponent_div_6_h3_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 34);\n    i0.ɵɵelement(1, \"img\", 35);\n    i0.ɵɵelementStart(2, \"h2\", 6);\n    i0.ɵɵtext(3, \"User Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 36);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" \\u00A0\\u00A0 \");\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"label\", 36);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\u00A0\\u00A0\");\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelementStart(14, \"label\", 36);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\u00A0\\u00A0\");\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵelementStart(19, \"label\", 36);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\u00A0\\u00A0\");\n    i0.ɵɵelement(22, \"br\");\n    i0.ɵɵelement(23, \"br\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const details_r8 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"ngModel\", details_r8.stud_no);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Name: \", details_r8.stu_name, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Surname: \", details_r8.stud_surname, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Student Number: \", details_r8.stud_no, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Email: \", details_r8.email, \"\");\n  }\n}\n\nfunction ProfileComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtemplate(1, ProfileComponent_div_6_h3_1_Template, 24, 5, \"h3\", 33);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.student);\n  }\n} //Retrieving student details from the database\n\n\nexport class Details {\n  constructor(stud_no, stu_name, stud_surname, email) {\n    this.stud_no = stud_no;\n    this.stu_name = stu_name;\n    this.stud_surname = stud_surname;\n    this.email = email;\n  }\n\n}\nexport let ProfileComponent = /*#__PURE__*/(() => {\n  class ProfileComponent {\n    constructor(http, router) {\n      this.http = http;\n      this.router = router;\n    }\n\n    ngOnInit() {\n      this.tittle = localStorage.getItem(\"token\");\n      this.getDetails();\n      this.studentNo = this.student[0].stud_no;\n      console.log(this.studentNo);\n    } //get function that receive the results from the database\n\n\n    getDetails() {\n      this.student = JSON.parse(this.tittle);\n    }\n\n    onClick() {\n      localStorage.removeItem(\"token\");\n      this.router.navigate(['/index']);\n    }\n\n    onSubmit(data) {\n      //sweet alerts pop up messages\n      Swal.fire({\n        title: 'Change Password?',\n        text: ' ',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'YES',\n        cancelButtonText: 'NO'\n      }).then(result => {\n        if (result.isConfirmed) {\n          //Retrieve information from the database\n          this.http.post('http://localhost:3000/updatePassword', data, {\n            responseType: 'text'\n          }).subscribe(result => {\n            if (result == \"password successfully updated\") {\n              localStorage.setItem(\"token\", result);\n              Swal.fire('Successully changed password', '', 'success'); //Navigate to the profile page\n\n              this.router.navigate(['/profile']);\n            } else {\n              Swal.fire(result, '', 'warning');\n            }\n          });\n          console.warn(data);\n        } else if (result.dismiss === Swal.DismissReason.cancel) {\n          Swal.fire('illegal change of Password', '', 'error');\n        }\n      });\n    }\n\n  }\n\n  ProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n    return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  ProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileComponent,\n    selectors: [[\"app-profile\"]],\n    decls: 75,\n    vars: 2,\n    consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"ngSubmit\"], [\"userPost\", \"ngForm\"], [1, \"container\"], [\"class\", \"names\", 4, \"ngFor\", \"ngForOf\"], [1, \"password\"], [\"id\", \"h2\"], [\"for\", \"password\"], [\"type\", \"password\", \"ngModel\", \"\", \"name\", \"password\"], [\"type\", \"password\", \"ngModel\", \"\", \"name\", \"newPassword\"], [\"type\", \"password\", \"ngModel\", \"\", \"name\", \"confirmPassword\"], [\"id\", \"btn\", \"type\", \"submit\"], [\"id\", \"footer\"], [1, \"covid\"], [\"href\", \"https://sacoronavirus.co.za/\"], [\"alt\", \"SACoronavirus Resource and News Portal\", \"width\", \"30%\", \"height\", \"80\", \"src\", \"/assets/images/SACoronavirus.png\", 2, \"border-radius\", \"15px\"], [1, \"cover\"], [1, \"about\"], [\"id\", \"heading\"], [\"href\", \"\", 1, \"contact\"], [\"href\", \"\", 1, \"about\"], [1, \"follow\"], [\"href\", \"https://www.facebook.com/TUTCommunications\", 1, \"facebook\"], [\"href\", \"https://twitter.com/official_tut\", 1, \"twitter\"], [\"href\", \"https://www.youtube.com/channel/UCD4jxDpRYTarILQjtsEQv9Q?view_as=subscriber\", 1, \"youtube\"], [\"href\", \"https://www.tut.ac.za/other/disclaimers/terms-and-conditions\"], [\"id\", \"privacy\"], [\"src\", \"assets/images/LBSdesign1.png\", \"alt\", \"\", \"width\", \"130\", \"height\", \"90\"], [\"routerLink\", \"/home\", \"routerLinkActive\", \"active\"], [\"routerLink\", \"/lab-booking\", \"routerLinkActive\", \"active\"], [\"routerLink\", \"/booking-details\", \"routerLinkActive\", \"active\"], [\"id\", \"btn\", \"type\", \"button\", 3, \"click\"], [1, \"names\"], [\"for\", \"stuNumber\", \"name\", \"stuNumber\", 3, \"ngModel\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"stuNumber\", \"name\", \"stuNumber\", 3, \"ngModel\"], [\"id\", \"profile\", \"src\", \"assets/images/profile picture icon.png\", \"alt\", \"\", \"width\", \"130\", \"height\", \"90\"], [1, \"info\"]],\n    template: function ProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r9 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"header\");\n        i0.ɵɵtemplate(1, ProfileComponent_h1_1_Template, 15, 2, \"h1\", 0);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"section\");\n        i0.ɵɵelementStart(3, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function ProfileComponent_Template_form_ngSubmit_3_listener() {\n          i0.ɵɵrestoreView(_r9);\n\n          const _r1 = i0.ɵɵreference(4);\n\n          return ctx.onSubmit(_r1.value);\n        });\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵtemplate(6, ProfileComponent_div_6_Template, 2, 1, \"div\", 4);\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"h2\", 6);\n        i0.ɵɵtext(9, \"Change Password \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵelementStart(11, \"label\", 7);\n        i0.ɵɵtext(12, \"Old Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"br\");\n        i0.ɵɵelement(14, \"input\", 8);\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵelement(16, \"br\");\n        i0.ɵɵelementStart(17, \"label\", 7);\n        i0.ɵɵtext(18, \"New Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"br\");\n        i0.ɵɵelement(20, \"input\", 9);\n        i0.ɵɵelement(21, \"br\");\n        i0.ɵɵelement(22, \"br\");\n        i0.ɵɵelementStart(23, \"label\", 7);\n        i0.ɵɵtext(24, \"Confirm Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"br\");\n        i0.ɵɵelement(26, \"input\", 10);\n        i0.ɵɵelement(27, \"br\");\n        i0.ɵɵelement(28, \"br\");\n        i0.ɵɵelement(29, \"br\");\n        i0.ɵɵelementStart(30, \"button\", 11);\n        i0.ɵɵtext(31, \"Update\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(32, \"br\");\n        i0.ɵɵelement(33, \"br\");\n        i0.ɵɵelement(34, \"br\");\n        i0.ɵɵelement(35, \"br\");\n        i0.ɵɵelement(36, \"br\");\n        i0.ɵɵelementStart(37, \"div\", 12);\n        i0.ɵɵelementStart(38, \"footer\");\n        i0.ɵɵelement(39, \"br\");\n        i0.ɵɵelementStart(40, \"div\", 13);\n        i0.ɵɵelementStart(41, \"a\", 14);\n        i0.ɵɵelement(42, \"img\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(43, \"br\");\n        i0.ɵɵelementStart(44, \"div\", 16);\n        i0.ɵɵelementStart(45, \"div\", 17);\n        i0.ɵɵelementStart(46, \"h2\", 18);\n        i0.ɵɵtext(47, \"Get In Touch\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"a\", 19);\n        i0.ɵɵtext(49, \"contact Us\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(50, \"br\");\n        i0.ɵɵelement(51, \"br\");\n        i0.ɵɵelementStart(52, \"a\", 20);\n        i0.ɵɵtext(53, \"About\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\", 21);\n        i0.ɵɵelementStart(55, \"h2\", 18);\n        i0.ɵɵtext(56, \"Follow Us\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"a\", 22);\n        i0.ɵɵtext(58, \"Facebook\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(59, \"br\");\n        i0.ɵɵelement(60, \"br\");\n        i0.ɵɵelementStart(61, \"a\", 23);\n        i0.ɵɵtext(62, \"Twitter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(63, \"br\");\n        i0.ɵɵelement(64, \"br\");\n        i0.ɵɵelementStart(65, \"a\", 24);\n        i0.ɵɵtext(66, \"Youtube\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(67, \"hr\");\n        i0.ɵɵelementStart(68, \"p\");\n        i0.ɵɵtext(69, \"\\u00A9 2021 TUT - ALL RIGHTS RESERVED\");\n        i0.ɵɵelementStart(70, \"span\");\n        i0.ɵɵelementStart(71, \"a\", 25);\n        i0.ɵɵelementStart(72, \"p\", 26);\n        i0.ɵɵtext(73, \"Privacy Policy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(74, \"br\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.student);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.student);\n      }\n    },\n    directives: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i2.RouterLinkWithHref, i2.RouterLinkActive],\n    styles: [\"h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-repeat:no-repeat;float:left;position:inherit;display:grid;padding-right:0;padding-left:10px;filter:drop-shadow(0 0 .75rem rgb(248,248,247));text-shadow:2px 2px 4px #fbfbfb}h1[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:15px}h1[_ngcontent-%COMP%]{line-height:500%;background-color:#000;font-family:Arial Narrow Bold,sans-serif;font-weight:100px;color:#fff;overflow:fixed}nav[_ngcontent-%COMP%]{float:right;list-style:none;font-size:16px;margin-right:10px}h4[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;margin-left:0;margin-top:0;font-size:1em}.covid[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{text-align:center}.covid[_ngcontent-%COMP%]{border-radius:50%}.about[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:0;margin-top:0;font-family:Roboto,sans-serif}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100px;padding:6px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border:1px solid #fff}#btn[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;border-radius:15px;padding:7px 10px;color:#ff4500;background-color:#fff}#btn[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}#profile[_ngcontent-%COMP%]{border-radius:12px}#h2[_ngcontent-%COMP%]{color:#7c7a7a}form[_ngcontent-%COMP%]{border-top:1px;border-style:solid grey .5px}.container[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#deb887;align-items:center;margin:20px;padding:20px 20px 20px 130px;width:350px}.info[_ngcontent-%COMP%]{font-family:monospace;font-weight:2em;font-size:large;color:#164f57}.names[_ngcontent-%COMP%], .password[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:12px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom:2px solid #000;padding:5px}#heading[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:center;color:#fff}#footer[_ngcontent-%COMP%]{background-color:#000;background-size:cover}#privacy[_ngcontent-%COMP%]{color:#a3a3a3}.cover[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.cover[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-items:center;padding:70px}p[_ngcontent-%COMP%]{font-family:monospace;text-align:center}hr[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#3b3434}hr[_ngcontent-%COMP%]{width:50%}\"]\n  });\n  return ProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}