{"ast":null,"code":"import Swal from 'sweetalert2';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction AdminComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\u00A0 \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\u00A0 \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelementStart(10, \"a\", 27);\n    i0.ɵɵlistener(\"click\", function AdminComponent_tr_35_Template_a_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const notifications_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.delete(notifications_r2.Notification_ID);\n    });\n    i0.ɵɵtext(11, \"Remove Notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const notifications_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(notifications_r2.Notification_Date.substr(0, 10));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(notifications_r2.Notification);\n  }\n}\n\nexport class notifications {\n  constructor(Notification_ID, Notification, Notification_Date) {\n    this.Notification_ID = Notification_ID;\n    this.Notification = Notification;\n    this.Notification_Date = Notification_Date;\n  }\n\n}\nexport let AdminComponent = /*#__PURE__*/(() => {\n  class AdminComponent {\n    constructor(http, router) {\n      this.http = http;\n      this.router = router; //auto Refresh variable\n\n      this.refreshUsers$ = new BehaviorSubject(true);\n    }\n\n    ngOnInit() {\n      this.getNotifications();\n    }\n\n    getNotifications() {\n      this.http.get('http://localhost:3000/get_notification').subscribe(response => {\n        this.notification = response;\n        this.refreshUsers$.next(true);\n        console.log(response);\n      });\n    } //on Delete button for deleting notifications\n\n\n    delete(data) {\n      var jsonPerson = '{\"Notification_ID\":' + data + '}';\n      var personObject = JSON.parse(jsonPerson);\n      console.log(data);\n      Swal.fire({\n        title: 'Are you sure you want to delete this Notification',\n        text: '',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'YES',\n        cancelButtonText: 'NO'\n      }).then(result => {\n        if (result.isConfirmed) {\n          //Add the User to the Database\n          this.http.post('http://localhost:3000/DeleteNotification', personObject, {\n            responseType: 'text'\n          }).subscribe(result => {\n            console.warn(\"result\", result);\n\n            if (result == 'Notification successfully deleted') {\n              Swal.fire('Notification successfully deleted', '', 'success');\n            } else {\n              Swal.fire(result, '', 'warning');\n            }\n          });\n          console.warn(data);\n        } else if (result.dismiss === Swal.DismissReason.cancel) {\n          Swal.fire('Cancelled!', '', 'error');\n        }\n      });\n    } //on submit for sending notification\n\n\n    onSubmit(data) {\n      //sweet Alerts pop up messages\n      Swal.fire({\n        title: 'Do you want to send this Notification',\n        text: '',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'YES',\n        cancelButtonText: 'NO'\n      }).then(result => {\n        if (result.isConfirmed) {\n          // TODO: Use EventEmitter with form value\n          //console.warn(this.ngForm.value);\n          //Add the User to the Database\n          this.http.post('http://localhost:3000/notification', data, {\n            responseType: 'text'\n          }).subscribe(result => {\n            console.warn(\"result\", result); //On submit validation\n\n            if (result == 'Notification sent successfully') {\n              Swal.fire(result, '', 'success'); //Navigate to the Login page\n            } else {\n              Swal.fire(result, '', 'warning');\n            }\n          });\n          console.warn(data);\n        } else if (result.dismiss === Swal.DismissReason.cancel) {\n          Swal.fire('Cancelled', 'Could Not Add The User!', 'error');\n        }\n      });\n    }\n\n    refresh() {\n      window.location.reload();\n    } //On click function for logout\n\n\n    onClick() {\n      localStorage.removeItem(\"token\");\n      this.router.navigate(['/index']);\n    }\n\n  }\n\n  AdminComponent.ɵfac = function AdminComponent_Factory(t) {\n    return new (t || AdminComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  AdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminComponent,\n    selectors: [[\"app-admin\"]],\n    decls: 86,\n    vars: 1,\n    consts: [[\"src\", \"assets/images/LBSdesign1.png\", \"alt\", \"\", \"width\", \"130\", \"height\", \"90\"], [\"routerLink\", \"/view-user\", \"routerLinkActive\", \"active\"], [\"routerLink\", \"/view-bookings\", \"routerLinkActive\", \"active\"], [\"routerLink\", \"/schedule\", \"routerLinkActive\", \"active\"], [\"routerLink\", \"/view-schedule\", \"routerLinkActive\", \"active\"], [\"id\", \"btn\", \"type\", \"button\", 3, \"click\"], [2, \"text-align\", \"center\", 3, \"ngSubmit\"], [\"userPost\", \"ngForm\"], [\"align\", \"center\", 1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [\"cols\", \"38\", \"rows\", \"16\", \"type\", \"text\", \"name\", \"Notification\", \"ngModel\", \"Notification\"], [\"id\", \"notice\", \"type\", \"submit\"], [\"id\", \"footer\"], [1, \"covid\"], [\"href\", \"https://sacoronavirus.co.za/\"], [\"alt\", \"SACoronavirus Resource and News Portal\", \"width\", \"30%\", \"height\", \"80\", \"src\", \"/assets/images/SACoronavirus.png\", 2, \"border-radius\", \"15px\"], [1, \"cover\"], [1, \"about\"], [\"id\", \"heading\"], [\"href\", \"\", 1, \"contact\"], [\"href\", \"\", 1, \"about\"], [1, \"follow\"], [\"href\", \"https://www.facebook.com/TUTCommunications\", 1, \"facebook\"], [\"href\", \"https://twitter.com/official_tut\", 1, \"twitter\"], [\"href\", \"https://www.youtube.com/channel/UCD4jxDpRYTarILQjtsEQv9Q?view_as=subscriber\", 1, \"youtube\"], [\"href\", \"https://www.tut.ac.za/other/disclaimers/terms-and-conditions\"], [\"id\", \"privacy\"], [\"id\", \"delete\", \"type\", \"submit\", \"name\", \"Notification\", 3, \"click\"]],\n    template: function AdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r6 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"header\");\n        i0.ɵɵelementStart(1, \"h1\");\n        i0.ɵɵelement(2, \"img\", 0);\n        i0.ɵɵtext(3, \"\\u00A0\\u00A0\\u00A0 Admin \");\n        i0.ɵɵelementStart(4, \"nav\");\n        i0.ɵɵelementStart(5, \"a\", 1);\n        i0.ɵɵtext(6, \"View User\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(7, \"\\u00A0\\u00A0|\\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(8, \"a\", 2);\n        i0.ɵɵtext(9, \"View Bookings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(10, \"\\u00A0\\u00A0|\\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(11, \"a\", 3);\n        i0.ɵɵtext(12, \"Schedule\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(13, \"\\u00A0\\u00A0|\\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(14, \"a\", 4);\n        i0.ɵɵtext(15, \"View Schedule\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(16, \"\\u00A0\\u00A0|\\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(17, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_17_listener() {\n          return ctx.onClick();\n        });\n        i0.ɵɵtext(18, \"Logout\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(19, \"\\u00A0\\u00A0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"br\");\n        i0.ɵɵelement(21, \"br\");\n        i0.ɵɵelementStart(22, \"form\", 6, 7);\n        i0.ɵɵlistener(\"ngSubmit\", function AdminComponent_Template_form_ngSubmit_22_listener() {\n          i0.ɵɵrestoreView(_r6);\n\n          const _r0 = i0.ɵɵreference(23);\n\n          return ctx.onSubmit(_r0.value);\n        });\n        i0.ɵɵelementStart(24, \"table\", 8);\n        i0.ɵɵelementStart(25, \"thead\");\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Notification Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(28, \"\\u00A0 \");\n        i0.ɵɵelementStart(29, \"th\");\n        i0.ɵɵtext(30, \"Notification Message\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(31, \"\\u00A0 \");\n        i0.ɵɵelementStart(32, \"th\");\n        i0.ɵɵtext(33, \"Remove Notification\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"tbody\");\n        i0.ɵɵtemplate(35, AdminComponent_tr_35_Template, 12, 2, \"tr\", 9);\n        i0.ɵɵelement(36, \"tr\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(37, \"br\");\n        i0.ɵɵelement(38, \"br\");\n        i0.ɵɵelementStart(39, \"textarea\", 10);\n        i0.ɵɵtext(40, \" \\n           \\n        \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"br\");\n        i0.ɵɵelementStart(42, \"button\", 11);\n        i0.ɵɵtext(43, \"Send Notification\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(44, \"br\");\n        i0.ɵɵelement(45, \"br\");\n        i0.ɵɵelement(46, \"br\");\n        i0.ɵɵelement(47, \"br\");\n        i0.ɵɵelementStart(48, \"div\", 12);\n        i0.ɵɵelementStart(49, \"footer\");\n        i0.ɵɵelement(50, \"br\");\n        i0.ɵɵelementStart(51, \"div\", 13);\n        i0.ɵɵelementStart(52, \"a\", 14);\n        i0.ɵɵelement(53, \"img\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(54, \"br\");\n        i0.ɵɵelementStart(55, \"div\", 16);\n        i0.ɵɵelementStart(56, \"div\", 17);\n        i0.ɵɵelementStart(57, \"h2\", 18);\n        i0.ɵɵtext(58, \"Get In Touch\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"a\", 19);\n        i0.ɵɵtext(60, \"contact Us\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(61, \"br\");\n        i0.ɵɵelement(62, \"br\");\n        i0.ɵɵelementStart(63, \"a\", 20);\n        i0.ɵɵtext(64, \"About\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"div\", 21);\n        i0.ɵɵelementStart(66, \"h2\", 18);\n        i0.ɵɵtext(67, \"Follow Us\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"a\", 22);\n        i0.ɵɵtext(69, \"Facebook\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(70, \"br\");\n        i0.ɵɵelement(71, \"br\");\n        i0.ɵɵelementStart(72, \"a\", 23);\n        i0.ɵɵtext(73, \"Twitter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(74, \"br\");\n        i0.ɵɵelement(75, \"br\");\n        i0.ɵɵelementStart(76, \"a\", 24);\n        i0.ɵɵtext(77, \"Youtube\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(78, \"hr\");\n        i0.ɵɵelementStart(79, \"p\");\n        i0.ɵɵtext(80, \"\\u00A9 2021 TUT - ALL RIGHTS RESERVED\");\n        i0.ɵɵelementStart(81, \"span\");\n        i0.ɵɵelementStart(82, \"a\", 25);\n        i0.ɵɵelementStart(83, \"p\", 26);\n        i0.ɵɵtext(84, \"Privacy Policy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(85, \"br\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(35);\n        i0.ɵɵproperty(\"ngForOf\", ctx.notification);\n      }\n    },\n    directives: [i2.RouterLinkWithHref, i2.RouterLinkActive, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i4.NgForOf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n    styles: [\"h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-repeat:no-repeat;float:left;position:inherit;display:grid;padding-right:0;padding-left:10px;filter:drop-shadow(0 0 .75rem rgb(248,248,247));text-shadow:2px 2px 4px #fbfbfb}h1[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:15px}h1[_ngcontent-%COMP%]{line-height:500%;background-color:#000;font-family:Arial Narrow Bold,sans-serif;font-weight:100px;color:#fff;overflow:fixed}nav[_ngcontent-%COMP%]{float:right;list-style:none;font-size:16px;margin-right:10px}h3[_ngcontent-%COMP%]{font-weight:100px;font-size:16px;color:#fff;padding-top:0;margin-left:200px}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;margin-top:0}h4[_ngcontent-%COMP%]{margin-left:0}.covid[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{text-align:center}.covid[_ngcontent-%COMP%]{border-radius:50%}.about[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:0;margin-top:0;font-family:Roboto,sans-serif}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border:1px solid #fff}#btn[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;border-radius:15px;padding:5px 7px;color:#ff4500;background-color:#fff}#btn[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}#notice[_ngcontent-%COMP%]{border-radius:4px;padding:5px 7px;background-color:#7bc2fb;color:#000}#notice[_ngcontent-%COMP%]:hover{color:#fff;background-color:#000}#delete[_ngcontent-%COMP%]{color:red}.table[_ngcontent-%COMP%]{border-collapse:collapse;font-size:.9em;min-width:400px;border-radius:5px 5px 0 0;overflow:hidden;box-shadow:0 0 20px rgba(0,0,0,.15)}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#9b9b71;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 15px;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#d3d3d3}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type(even){border-bottom:2px solid #9b9b71}#heading[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:center;color:#fff}#footer[_ngcontent-%COMP%]{background-color:#000;background-size:cover}#privacy[_ngcontent-%COMP%]{color:#a3a3a3}.cover[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.cover[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-items:center;padding:70px}p[_ngcontent-%COMP%]{font-family:monospace;text-align:center}hr[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#3b3434}hr[_ngcontent-%COMP%]{width:50%}\"]\n  });\n  return AdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}